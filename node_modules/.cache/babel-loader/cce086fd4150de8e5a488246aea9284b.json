{"ast":null,"code":"import _regeneratorRuntime from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{makeStyles}from'@material-ui/core/styles';import Paper from'@material-ui/core/Paper';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TablePagination from'@material-ui/core/TablePagination';import TableRow from'@material-ui/core/TableRow';import Switch from'@material-ui/core/Switch';import services from'../../services/services';import AdminForm from'./AdminForm';import PopUp from'../../control/PopUp';import{Grid,Typography}from'@material-ui/core';var columns=[{id:'firstName',label:'First Name',minWidth:100,align:'center'},{id:'lastName',label:'Last Name',minWidth:100,align:'center'},{id:'username',label:'User Name',minWidth:100,align:'center'}];var useStyles=makeStyles({root:{width:'100%',marginTop:\"90px\"},container:{maxHeight:600},table:{background:\"#133b5c\",color:\"#fff\"},dltIcon:{color:\"#F31118\"},heading:{float:\"left\",fontSize:\"20px\",marginTop:\"15px\",marginLeft:\"10px\",fontWeight:\"700\",color:\"#133b5c\"}});export default function UserTable(_ref){var list=_ref.list,updateUsers=_ref.updateUsers;var classes=useStyles();var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),page=_React$useState2[0],setPage=_React$useState2[1];var _React$useState3=React.useState(10),_React$useState4=_slicedToArray(_React$useState3,2),rowsPerPage=_React$useState4[0],setRowsPerPage=_React$useState4[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openPopup=_useState2[0],setOpenPopup=_useState2[1];var data=JSON.parse(localStorage.getItem('friend'));var jwt=data['jwt'];var checkedStatus=function checkedStatus(id){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userId,data,options,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userId=id;data={userId:userId};options={method:'POST',headers:{\"Apiuserid\":\"49507884\",\"Scope\":\"In.QuizApp.LOGIN\",\"Authorization\":\"quizApp-oauthtoken \".concat(jwt)}};_context.next=5;return services.createStatus(data,options);case 5:result=_context.sent;updateUsers();console.log(result);case 8:case\"end\":return _context.stop();}}},_callee);}));};var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(+event.target.value);setPage(0);};return/*#__PURE__*/React.createElement(Paper,{className:classes.root},/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Typography,{variant:\"h4\",className:classes.heading},\"User Details\"),/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper-inner-tab-backgrounds-second\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sim-button button13\",onClick:function onClick(){return setOpenPopup(true);}},/*#__PURE__*/React.createElement(\"span\",null,\"Add User\")))),/*#__PURE__*/React.createElement(PopUp,{openPopup:openPopup,setOpenPopup:setOpenPopup,maxWidth:\"sm\"},/*#__PURE__*/React.createElement(AdminForm,null)),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(TableContainer,{className:classes.container},/*#__PURE__*/React.createElement(Table,{stickyHeader:true},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,columns.map(function(column){return/*#__PURE__*/React.createElement(TableCell,{className:classes.table,key:column.id,align:column.align,style:{minWidth:column.minWidth}},column.label);}),/*#__PURE__*/React.createElement(TableCell,{className:classes.table},\"Action\"))),/*#__PURE__*/React.createElement(TableBody,null,list.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(row){return/*#__PURE__*/React.createElement(TableRow,{hover:true,role:\"checkbox\",tabIndex:-1,key:list.userId},columns.map(function(column){var value=row[column.id];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(TableCell,{key:value,align:column.align},column.format&&typeof value==='number'?column.format(value):value));}),/*#__PURE__*/React.createElement(TableCell,null,row.status===\"active\"?/*#__PURE__*/React.createElement(Switch,{checked:true,onChange:checkedStatus(row.userId),name:\"checkedA\",color:\"primary\",id:row.userId,inputProps:{'aria-label':'primary checkbox'}}):/*#__PURE__*/React.createElement(Switch,{checked:false,onChange:checkedStatus(row.userId),name:\"checkedA\",color:\"primary\",id:row.userId,inputProps:{'aria-label':'primary checkbox'}})));}))))),/*#__PURE__*/React.createElement(TablePagination,{rowsPerPageOptions:[10,25,100],component:\"div\",count:list.length,rowsPerPage:rowsPerPage,page:page,onChangePage:handleChangePage,onChangeRowsPerPage:handleChangeRowsPerPage}));}","map":{"version":3,"sources":["/home/tanu/Workspace/quiz12/src/admin/management/UserTable.js"],"names":["React","useState","makeStyles","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","Switch","services","AdminForm","PopUp","Grid","Typography","columns","id","label","minWidth","align","useStyles","root","width","marginTop","container","maxHeight","table","background","color","dltIcon","heading","float","fontSize","marginLeft","fontWeight","UserTable","list","updateUsers","classes","page","setPage","rowsPerPage","setRowsPerPage","openPopup","setOpenPopup","data","JSON","parse","localStorage","getItem","jwt","checkedStatus","userId","options","method","headers","createStatus","result","console","log","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","map","column","slice","row","format","status","length"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Switch from '@material-ui/core/Switch';\nimport services from '../../services/services';\nimport AdminForm from './AdminForm';\nimport PopUp from '../../control/PopUp'\nimport { Grid, Typography } from '@material-ui/core';\n\nconst columns = [\n  { id: 'firstName', label: 'First Name', minWidth: 100, align: 'center' },\n  { id: 'lastName', label: 'Last Name', minWidth: 100, align: 'center' },\n  {\n    id: 'username',\n    label: 'User Name',\n    minWidth: 100,\n    align: 'center'\n\n  },\n];\n\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    marginTop: \"90px\"\n  },\n  container: {\n    maxHeight: 600,\n  },\n  table: {\n    background: \"#133b5c\",\n    color: \"#fff\"\n  },\n  dltIcon: {\n    color: \"#F31118\"\n  },\n  heading:{\n    float:\"left\",\n    fontSize:\"20px\",\n    marginTop:\"15px\",\n    marginLeft:\"10px\",\n    fontWeight:\"700\",\n    color:\"#133b5c\"\n}, \n});\n\nexport default function UserTable({ list, updateUsers }) {\n\n  const classes = useStyles();\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n  const [openPopup,setOpenPopup] = useState(false);\n  const data = JSON.parse(localStorage.getItem('friend'));\n  const jwt = data['jwt'];\n\n  const checkedStatus = (id) => async () => {\n    var userId = id;\n    var data = {\n      userId: userId,\n    }\n    const options = {\n      method: 'POST',\n      headers: {\n        \"Apiuserid\": \"49507884\",\n        \"Scope\": \"In.QuizApp.LOGIN\",\n        \"Authorization\": `quizApp-oauthtoken ${jwt}`,\n      }\n    }\n    const result = await services.createStatus(data, options)\n    updateUsers();\n    console.log(result)\n\n  }\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <div className={classes.root}>\n                        <Typography variant=\"h4\" className={classes.heading}>User Details</Typography> \n                    <div className=\"wrapper-inner-tab-backgrounds-second\">\n                        <div className=\"sim-button button13\" onClick={ ()=> setOpenPopup(true)} ><span>Add User</span></div>\n                    </div>    \n                </div>  \n                <PopUp\n                    openPopup={openPopup}\n                    setOpenPopup={setOpenPopup}\n                    maxWidth=\"sm\"\n                    >\n                        <AdminForm/>\n                </PopUp>\n      <Grid container>\n       \n      <TableContainer className={classes.container}>\n        <Table stickyHeader>\n          <TableHead>\n            <TableRow>\n              {columns.map((column) => (\n                <TableCell className={classes.table}\n                  key={column.id}\n                  align={column.align}\n                  style={{ minWidth: column.minWidth }}\n                >\n                  {column.label}\n                </TableCell>\n              ))}\n              <TableCell className={classes.table}>Action</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {list.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => {\n              return (\n                <TableRow \n                hover \n                role=\"checkbox\"\n                 tabIndex={-1}\n                 key={list.userId}>\n                  {columns.map((column) => {\n                    const value = row[column.id];\n                    return (\n                      <>\n                        <TableCell \n                        key={value}\n                        align={column.align}\n                         >\n                          {column.format && typeof value === 'number' ? column.format(value) : value}\n                        </TableCell>\n                      </>\n                    );\n\n                  })}\n                  <TableCell>\n                    {\n                      row.status === \"active\" ?\n                        <Switch\n                          checked={true}\n                          onChange={checkedStatus(row.userId)}\n                          name=\"checkedA\"\n                          color=\"primary\"\n                          id={row.userId}\n                          inputProps={{ 'aria-label': 'primary checkbox' }}\n                        /> :\n                        <Switch\n                          checked={false}\n                          onChange={checkedStatus(row.userId)}\n                          name=\"checkedA\"\n                          color=\"primary\"\n                          id={row.userId}\n                          inputProps={{ 'aria-label': 'primary checkbox' }}\n                        />\n                    }\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n     \n      </Grid>\n      <TablePagination\n        rowsPerPageOptions={[10, 25, 100]}\n        component=\"div\"\n        count={list.length}\n        rowsPerPage={rowsPerPage}\n        page={page}\n        onChangePage={handleChangePage}\n        onChangeRowsPerPage={handleChangeRowsPerPage}\n      />\n       \n           \n    </Paper>\n  );\n}"]},"metadata":{},"sourceType":"module"}