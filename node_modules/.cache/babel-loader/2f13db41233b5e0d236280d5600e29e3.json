{"ast":null,"code":"var _jsxFileName = \"/home/tanu/Workspace/quiz12/src/user/form/PlayQuiz.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Grid, Paper, Card, CardMedia, CardContent, Typography } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport '../style/questionlist.css';\nimport '../style/playquiz.css';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport services from '../../services/services';\nimport { Redirect } from 'react-router-dom';\nimport Footer from '../footer/Footer';\nconst BorderLinearProgress = withStyles(theme => ({\n  root: {\n    height: 10,\n    borderRadius: 5,\n    width: \"100%\"\n  },\n  colorPrimary: {\n    backgroundColor: theme.palette.grey[theme.palette.type === 'light' ? 200 : 700]\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: '#FFDD52'\n  }\n}))(LinearProgress);\nconst useStyles = makeStyles(theme => ({\n  gridContainer: {\n    paddingLeft: \"20px\",\n    paddingRight: \"20px\",\n    background: \"#7555D9\",\n    minHeight: \"100vh\"\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  },\n  pro: {\n    textAlign: \"center\"\n  }\n}));\n\nfunction PlayQuiz({\n  quizlist,\n  quizId,\n  createdBy\n}) {\n  var _quiz$activeStep, _quiz$activeStep$opti;\n\n  const [score, setScore] = useState(0);\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [meter, setMeter] = useState(false);\n  const [correctAns, setCorrectAns] = useState(0);\n  const [clickedAns, setClickedAns] = useState(0);\n  const [progress, setProgress] = useState(false);\n  const [count, setCount] = useState(1);\n  const json = localStorage.getItem(\"feedbackby\");\n  let quiz = [{\n    label: quizlist === null || quizlist === void 0 ? void 0 : quizlist.question,\n    options: quizlist === null || quizlist === void 0 ? void 0 : quizlist.options\n  }];\n  const classes = useStyles();\n\n  if (quizlist === null || quizlist === void 0 ? void 0 : quizlist.length) {\n    quiz = quizlist;\n  }\n\n  function showProgress(index) {\n    var increment = Math.ceil(activeStep / maxSteps * 100);\n    setProgress(increment);\n  }\n\n  const maxSteps = quiz.length;\n\n  const handleSkip = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleSelect = (optId, label) => {\n    setClickedAns(label);\n\n    if (label === quiz[activeStep].answer) {\n      increaseScore();\n      setCorrectAns(quiz[activeStep].answer);\n    } else {\n      setCorrectAns(quiz[activeStep].answer);\n    }\n  };\n\n  const handleNext = (optId, label) => {\n    if (maxSteps - 1 !== activeStep) {\n      setTimeout(() => {\n        setActiveStep(prevActiveStep => prevActiveStep + 1);\n        setCount(count + 1);\n      }, 500);\n    } else {\n      handleSubmit();\n    }\n\n    handleSelect(optId, label);\n    showProgress(quiz[activeStep].qusId);\n  };\n\n  const increaseScore = () => {\n    setScore(score + 1);\n  };\n\n  const handleSubmit = async () => {\n    const data = {\n      quizId: quizId,\n      feedbackBy: json,\n      score: score\n    };\n    const options = {\n      method: 'POST',\n      headers: {\n        \"Apiuserid\": \"49507884\",\n        \"Scope\": \"In.QuizApp.INSERT\"\n      }\n    };\n    const result = await services.getResult(data, options);\n    setMeter(result.data.data);\n  };\n\n  if (meter === true) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: \"/score\",\n        state: {\n          data: {\n            score\n          },\n          quizlist: {\n            quizlist\n          },\n          createdBy: {\n            createdBy\n          },\n          feedbackBy: json\n        }\n      },\n      push: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 10\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.gridContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 11,\n    sm: 6,\n    md: 6,\n    lg: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, \"2021 Friendship\"), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, \"Dare\")), /*#__PURE__*/React.createElement(\"div\", {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"question\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  }, \"Question \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 39\n    }\n  }, count, \"/\", maxSteps))), /*#__PURE__*/React.createElement(\"div\", {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(BorderLinearProgress, {\n    variant: \"determinate\",\n    value: progress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Card, {\n    className: \"questioncard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"questionname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, count, \":\", quiz[activeStep].title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"playdesign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }, (_quiz$activeStep = quiz[activeStep]) === null || _quiz$activeStep === void 0 ? void 0 : (_quiz$activeStep$opti = _quiz$activeStep.options) === null || _quiz$activeStep$opti === void 0 ? void 0 : _quiz$activeStep$opti.map((options, index) => {\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      className: correctAns === options.optionLabel ? 'correct' : clickedAns === options.optionLabel ? 'incorrect' : 'options',\n      correct: quiz[activeStep].answer,\n      key: index,\n      onClick: () => {\n        handleNext(options.optionId, options.optionLabel);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 4,\n      sm: 4,\n      md: 4,\n      lg: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 23\n      }\n    }, options.optionImg.length ? /*#__PURE__*/React.createElement(\"img\", {\n      className: \"playImg\",\n      src: options.optionImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 34\n      }\n    }) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 34\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 8,\n      sm: 8,\n      md: 8,\n      lg: 8,\n      className: \"optionbg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      className: \"playcontent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"options-head\",\n      id: \"cardText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 27\n      }\n    }, options.optionLabel))));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"start-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, maxSteps !== quiz[activeStep].qusId ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"skip\",\n    onClick: () => {\n      maxSteps !== quiz[activeStep].qusId ? handleSkip() : handleSubmit();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 18\n    }\n  }, \"Skip the Question\") : null))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 8\n    }\n  }));\n}\n\nexport default PlayQuiz;","map":{"version":3,"sources":["/home/tanu/Workspace/quiz12/src/user/form/PlayQuiz.js"],"names":["React","useState","useEffect","useParams","Grid","Paper","Card","CardMedia","CardContent","Typography","makeStyles","withStyles","LinearProgress","services","Redirect","Footer","BorderLinearProgress","theme","root","height","borderRadius","width","colorPrimary","backgroundColor","palette","grey","type","bar","useStyles","gridContainer","paddingLeft","paddingRight","background","minHeight","paper","padding","spacing","textAlign","color","text","secondary","pro","PlayQuiz","quizlist","quizId","createdBy","score","setScore","activeStep","setActiveStep","meter","setMeter","correctAns","setCorrectAns","clickedAns","setClickedAns","progress","setProgress","count","setCount","json","localStorage","getItem","quiz","label","question","options","classes","length","showProgress","index","increment","Math","ceil","maxSteps","handleSkip","prevActiveStep","handleSelect","optId","answer","increaseScore","handleNext","setTimeout","handleSubmit","qusId","data","feedbackBy","method","headers","result","getResult","pathname","state","title","map","optionLabel","optionId","optionImg"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { useParams } from 'react-router-dom';\nimport {  Grid, Paper,Card, CardMedia, CardContent, Typography } from '@material-ui/core';\nimport { makeStyles,withStyles } from '@material-ui/core/styles';\nimport '../style/questionlist.css'\nimport '../style/playquiz.css'\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport services from '../../services/services';\nimport { Redirect } from 'react-router-dom';\nimport Footer from '../footer/Footer';\n\nconst BorderLinearProgress = withStyles((theme) => ({\n    root: {\n      height: 10,\n      borderRadius: 5,\n      width:\"100%\",\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.grey[theme.palette.type === 'light' ? 200 : 700],\n    },\n    bar: {\n      borderRadius: 5,\n      backgroundColor: '#FFDD52',\n    },\n  }))(LinearProgress);\n  \nconst useStyles = makeStyles((theme)=>({\n    gridContainer: {\n      paddingLeft: \"20px\",\n      paddingRight: \"20px\",\n      background:\"#7555D9\",\n      minHeight:\"100vh\"\n    },\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n      },\n      pro:{\n          textAlign:\"center\"\n      }\n    \n  }));\nfunction PlayQuiz({quizlist,quizId,createdBy}) {\n  \n const[score,setScore]=useState(0)\n const [activeStep, setActiveStep] = React.useState(0);\n const [meter,setMeter]=useState(false);\n const [correctAns,setCorrectAns]= useState(0);\n const [clickedAns,setClickedAns]= useState(0);\n const [progress,setProgress]=useState(false);\n const [count,setCount]=useState(1);\n const json =localStorage.getItem(\"feedbackby\")\n  \n  let quiz = [\n    {\n        label: quizlist?.question,\n        options: quizlist?.options,\n    },\n];\n\n    const classes = useStyles();\n    if (quizlist?.length) {\n      quiz = quizlist;\n    }\n    \n    function showProgress(index) {\n\n      var increment = Math.ceil((activeStep) / (maxSteps) * 100);\n     \n      setProgress(increment)\n      \n    }\n    const maxSteps = quiz.length;\n    const handleSkip = () => { setActiveStep(prevActiveStep => prevActiveStep + 1); };\n    const handleSelect = (optId,label)=>{\n       setClickedAns(label)\n       if(label===quiz[activeStep].answer){\n            increaseScore();\n           setCorrectAns(quiz[activeStep].answer)\n          \n  \n       }\n       else{\n         setCorrectAns(quiz[activeStep].answer)\n       }\n     \n    }\n\n\nconst handleNext = (optId,label)=>{\n\n  if(maxSteps-1 !==activeStep){\n    setTimeout(()=>{setActiveStep(prevActiveStep => prevActiveStep + 1)\n      setCount(count+1)},500)\n    \n   \n  }\n  else{\n   \n     handleSubmit()\n  }\n  handleSelect(optId,label);\n\n  showProgress(quiz[activeStep].qusId);\n}\nconst increaseScore = ()=>{\n  setScore(score+1)\n}\nconst handleSubmit = async() =>{\n    const data={\n      quizId:quizId,\n      feedbackBy:json,\n      score:score\n    }\n    const options = {\n      method: 'POST',\n      headers: {\n        \"Apiuserid\": \"49507884\",\n        \"Scope\": \"In.QuizApp.INSERT\",\n      }\n    }\n    const result = await services.getResult(data, options)\n     setMeter(result.data.data)\n}\nif(meter===true)\n{\n \n  return(<Redirect to={{pathname:\"/score\" ,state:{data:{score},quizlist:{quizlist},createdBy:{createdBy},feedbackBy:json}}} push={true} />)\n}\n    return (\n        <div className={classes.gridContainer}>\n        <Grid container>\n           <Grid item xs></Grid>\n            <Grid item xs={11} sm={6} md={6} lg={4} >\n                 <div justify=\"center\">\n                    <h3 className=\"text1\">2021 Friendship</h3>\n                    <h3 className=\"text2\">Dare</h3>\n                 </div>\n                 <div justify=\"center\">     \n    <h4 className=\"question\">Question <span>{count}/{maxSteps}</span></h4>\n                 </div>\n                 <div justify=\"center\">\n                    <BorderLinearProgress variant=\"determinate\" value={progress} />\n                 </div>\n            <Card className=\"questioncard\">\n                <h3 className=\"questionname\">{count}:{quiz[activeStep].title}</h3>\n           \n                  \n                    <div className=\"playdesign\">\n                    {\n                    quiz[activeStep]?.options?.map((options,index)=>{\n\n                    return(\n                        <Grid\n                      container\n                      className= {\n                        correctAns === options.optionLabel ?\n                        'correct' : \n                      clickedAns === options.optionLabel?\n                      'incorrect' : 'options'}\n                      correct={quiz[activeStep].answer}\n                      key={index}\n                      onClick={()=>{handleNext(options.optionId,options.optionLabel)}}\n                      >\n                      <Grid item xs={4} sm={4} md={4}lg={4}>\n                      {options.optionImg.length\n                                ?<img className=\"playImg\" \n                                  src={options.optionImg}/>\n                                :<span></span>\n                              }\n                      </Grid>\n                      <Grid item xs={8} sm={8} md={8}lg={8} className=\"optionbg\" >\n                        <CardContent className=\"playcontent\">\n                          <h3 className=\"options-head\"id=\"cardText\">\n                        {options.optionLabel}\n                          </h3>\n                        </CardContent>\n                      </Grid>\n                      </Grid>\n                    )\n\n                    })\n                    } \n                </div>\n               \n                <div className=\"start-wrapper\">\n                  \n                 {\n                 maxSteps!==quiz[activeStep].qusId?\n                 <button className=\"skip\"\n                 onClick={()=>{ maxSteps!==quiz[activeStep].qusId?handleSkip():handleSubmit() }}\n                 >Skip the Question</button>:null\n                  } \n                </div> \n         </Card>\n            </Grid>\n            <Grid item xs></Grid>\n       </Grid>\n       <Footer/>\n  </div>\n    )\n}\n\nexport default PlayQuiz\n"]},"metadata":{},"sourceType":"module"}