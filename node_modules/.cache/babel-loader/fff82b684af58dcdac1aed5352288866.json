{"ast":null,"code":"import _objectSpread from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Card,CardContent,FormControl,Grid,makeStyles,MenuItem,Select}from'@material-ui/core';import React,{useEffect,useState}from'react';import\"./createQuiz.css\";import AdminLink from'../management/AdminLinks';import{useParams}from'react-router-dom';import services from'../../services/services';var useStyles=makeStyles(function(theme){return{root:{width:'100%'},gridContainer:{paddingTop:\"20px\",minHeight:\"100vh\"},paper:{padding:theme.spacing(2),textAlign:'center',color:theme.palette.text.secondary},headPart:{backgroundColor:\"#133b5c\",color:\"#ffff\"},icon:{color:\"#fff\"},categorytitle:{color:\"#133b5c\",fontSize:\"35px\",fontWeight:\"600\",textAlign:\"center\"},heading:{fontSize:theme.typography.pxToRem(20),fontWeight:theme.typography.fontWeightRegular}};});function EditQuiz(){var classes=useStyles();var _useParams=useParams(),id=_useParams.id;var _useState=useState([{questionTitle:'',priority:1,answer:\"\",optionsArray:[{optionLabel:\"\",optionImg:\"\"},{optionLabel:\"\",optionImg:\"\"}]}]),_useState2=_slicedToArray(_useState,2),question=_useState2[0],setQuestion=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),quiz=_useState4[0],setQuiz=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),image=_useState6[0],setImage=_useState6[1];var data=JSON.parse(localStorage.getItem('friend'));var jwt=data['jwt'];useEffect(function(){getQuizBySlug();},[]);var getQuizBySlug=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,options,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data={quizSlug:id};options={method:'Post',headers:{\"Apiuserid\":\"49507884\",\"Scope\":\"In.QuizApp.READ\",\"Authorization\":\"quizApp-oauthtoken \".concat(jwt)}};_context.next=4;return services.getQuizBySlug(data,options);case 4:result=_context.sent;console.log(result.data.data);setQuiz(result.data.data);setQuestion(JSON.parse(result.data.data[0].questionData));case 8:case\"end\":return _context.stop();}}},_callee);}));return function getQuizBySlug(){return _ref.apply(this,arguments);};}();var addQuestion=function addQuestion(){setQuestion([].concat(_toConsumableArray(question),[{questionTitle:'',priority:1,answer:\"\",optionsArray:[{optionLabel:\"\",optionImg:\"\"},{optionLabel:\"\",optionImg:\"\"}]}]));};var removeQuestion=function removeQuestion(index){var list=_toConsumableArray(question);list.splice(index,1);setQuestion(list);};var addOption=function addOption(questionIndex){var options=question[questionIndex];options.optionsArray.push({optionLabel:\"\",optionImg:\"\"});var previous=question.slice(0,questionIndex);var current=[options];var next=question.slice(questionIndex+1,question===null||question===void 0?void 0:question.length);setQuestion([].concat(_toConsumableArray(previous),current,_toConsumableArray(next)));};var removeOption=function removeOption(questionIndex,answerIndex){var options=question[questionIndex];var newArray=options.optionsArray.filter(function(value,index){return index!==answerIndex;});var previous=question.slice(0,questionIndex);var current=[_objectSpread(_objectSpread({},options),{},{optionsArray:_toConsumableArray(newArray)})];var next=question.slice(questionIndex+1,question===null||question===void 0?void 0:question.length);setQuestion([].concat(_toConsumableArray(previous),current,_toConsumableArray(next)));};var handleOption=function handleOption(questionIndex,index,event){var values=_toConsumableArray(question);values[questionIndex].optionsArray[index].optionLabel=event.target.value;setQuestion(values);};var handleQuestion=function handleQuestion(index,event){var values=_toConsumableArray(question);values[index].questionTitle=event.target.value;setQuestion(values);};var radioclick=function radioclick(questionIndex,index,event){var values=_toConsumableArray(question);var clicked=values[questionIndex].optionsArray[index].optionLabel;values[questionIndex].answer=clicked;setQuestion(values);};var handleImage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var output,imgpath,data,currentTime,time,ext,file_path,myimg,img,options,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:output=document.getElementById('output');output.src=URL.createObjectURL(event.target.files[0]);output.onload=function(){URL.revokeObjectURL(output.src);// free memory\n};imgpath=event.target.files[0];data=imgpath.name;console.log(data);currentTime=new Date();time=currentTime.getTime();ext=data.split('.');console.log(ext[0],ext[1]);file_path=ext[0]+time+'.'+ext[1];myimg=data.replace(data,file_path);img=new FormData();img.append(\"bannerImg\",imgpath);img.append(\"newName\",myimg);options={method:'POST',headers:{\"Apiuserid\":\"49507884\",\"Scope\":\"In.QuizApp.INSERT\",'Content-Type':'multipart/form-data',\"Authorization\":\"quizApp-oauthtoken \".concat(jwt)}};_context2.next=18;return services.bannerImage(img,options);case 18:result=_context2.sent;setImage(result.data.message);case 20:case\"end\":return _context2.stop();}}},_callee2);}));return function handleImage(_x){return _ref2.apply(this,arguments);};}();var optionImage=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(questionIndex,index,event){var values,imgpath,data,currentTime,time,ext,file_path,myimg,img,options,result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// var imageOpt = document.getElementById('imageOpt');\n// imageOpt.src = URL.createObjectURL(event.target.files[0]);\n// imageOpt.onload = function () {\n// URL.revokeObjectURL(imageOpt.src) // free memory\n//  }\nvalues=_toConsumableArray(question);imgpath=event.target.files[0];data=imgpath.name;currentTime=new Date();time=currentTime.getTime();ext=data.split('.');file_path=questionIndex+'_'+index+'_'+ext[0]+time+'.'+ext[1];myimg=data.replace(data,file_path);img=new FormData();img.append(\"optionImg\",imgpath);img.append(\"newName\",myimg);options={method:'POST',headers:{\"Apiuserid\":\"49507884\",\"Scope\":\"In.QuizApp.INSERT\",'Content-Type':'multipart/form-data',\"Authorization\":\"quizApp-oauthtoken \".concat(jwt)}};_context3.next=14;return services.getImage(img,options);case 14:result=_context3.sent;values[questionIndex].optionsArray[index].optionImg=file_path;setQuestion(values);case 17:case\"end\":return _context3.stop();}}},_callee3);}));return function optionImage(_x2,_x3,_x4){return _ref3.apply(this,arguments);};}();var updateList=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var quizId,title,slug,language,fileUpload,options,result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:quizId=document.getElementById(\"quizId\").value;title=document.getElementById(\"title\").value;slug=document.getElementById(\"slug\").value;language=document.getElementById(\"language\").value;debugger;fileUpload={quizId:quizId,quizTitle:title,quizSlug:slug,language:language,bannerImage:image,questionsArray:question};options={method:'POST',headers:{\"Apiuserid\":\"49507884\",\"Scope\":\"In.QuizApp.INSERT\",'Content-Type':'multipart/form-data',\"Authorization\":\"quizApp-oauthtoken \".concat(jwt)}};_context4.next=9;return services.updateQuiz(fileUpload,options);case 9:result=_context4.sent;console.log(result);case 11:case\"end\":return _context4.stop();}}},_callee4);}));return function updateList(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(AdminLink,null),quiz===null||quiz===void 0?void 0:quiz.map(function(list,index){return/*#__PURE__*/React.createElement(Grid,{container:true,className:\"detailView\"},/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(\"input\",{type:\"hidden\",id:\"quizId\",defaultValue:list.adminQuizId}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:11,sm:6,md:6,lg:4},/*#__PURE__*/React.createElement(\"div\",{className:\"createnumber\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Title\")),/*#__PURE__*/React.createElement(Card,{className:\"create-list\"},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"title\",className:\"title-text\",name:\"title\",defaultValue:list.title,placeholder:\"Title\"})))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true})),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:11,sm:6,md:6,lg:4},/*#__PURE__*/React.createElement(\"div\",{className:\"createnumber\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Slug\")),/*#__PURE__*/React.createElement(Card,{className:\"create-list\"},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"slug\",className:\"title-text\",name:\"slug\",defaultValue:list.slug,placeholder:\"Slug\"})))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true})),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:11,sm:6,md:6,lg:4},/*#__PURE__*/React.createElement(\"div\",{className:\"createnumber\"},/*#__PURE__*/React.createElement(\"h3\",null,\"language\")),/*#__PURE__*/React.createElement(Card,{className:\"create-list\"},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},/*#__PURE__*/React.createElement(FormControl,{className:classes.formControl,fullWidth:true},/*#__PURE__*/React.createElement(\"select\",{label:\"Category\",id:\"language\",value:list.language,className:\"title-text\"},/*#__PURE__*/React.createElement(\"option\",{value:list.language},list.language)))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true})),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:11,sm:6,md:6,lg:4},/*#__PURE__*/React.createElement(\"div\",{className:\"createnumber\"},/*#__PURE__*/React.createElement(\"h3\",null,\"upload\")),/*#__PURE__*/React.createElement(Card,{className:\"create-list\"},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},list.bannerImage!=\"\"?/*#__PURE__*/React.createElement(\"div\",{className:\"img-holder\"},/*#__PURE__*/React.createElement(\"img\",{id:\"output\",className:\"img\",src:\"\".concat(list.image_base_path,\"/\").concat(list.bannerImage)})):/*#__PURE__*/React.createElement(\"div\",{className:\"img-holder\"},/*#__PURE__*/React.createElement(\"img\",{id:\"output\",className:\"img\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"image/*\",id:\"input\",name:\"input\",onChange:function onChange(event){return handleImage(event);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"create-label\"},/*#__PURE__*/React.createElement(\"label\",{className:\"create-img\",htmlFor:\"input\"},/*#__PURE__*/React.createElement(\"span\",null,\"  Choose your Photo\")))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true})),question.map(function(que,index){return/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:11,sm:6,md:6,lg:4,className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"createnumber\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Question\")),/*#__PURE__*/React.createElement(\"div\",{className:\"createnumber1\"},question.length>1&&/*#__PURE__*/React.createElement(\"button\",{className:\"delete\",onClick:function onClick(){return removeQuestion(index);}},\"X\")),/*#__PURE__*/React.createElement(Card,{className:\"create-list\"},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"question\",defaultValue:que.questionTitle,className:\"que-text\",name:\"question\",placeholder:\"Enter Question\",onChange:function onChange(event){return handleQuestion(index,event);}})),que.optionsArray.map(function(option,optIndex){var _option$optionImg;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"answerContainer\"},/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"option_\".concat(index),defaultChecked:que.answer,onClick:function onClick(event){return radioclick(index,optIndex,event);}}),((_option$optionImg=option.optionImg)===null||_option$optionImg===void 0?void 0:_option$optionImg.length)?/*#__PURE__*/React.createElement(Grid,{container:true,className:\"viewOption\",key:optIndex,id:\"cardbox\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:4,sm:4,md:4,lg:4,className:\"div-image\"},/*#__PURE__*/React.createElement(\"img\",{className:\"view-img\",src:\"\".concat(list.image_base_path,\"/\").concat(option.optionImg)})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:8,sm:8,md:8,lg:8,className:\"viewbg\"},/*#__PURE__*/React.createElement(CardContent,{className:\"view-card\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"create-option\",placeholder:\"Answer\",defaultValue:option.optionLabel,onChange:function onChange(event){return handleOption(index,optIndex,event);}})))):/*#__PURE__*/React.createElement(Grid,{container:true,className:\"viewOption\",key:index,id:\"cardbox\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:12,md:12,lg:12,className:\"viewbg\"},/*#__PURE__*/React.createElement(CardContent,{className:\"view-card\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"create-option\",placeholder:\"Answer\",defaultValue:option.optionLabel,onChange:function onChange(event){return handleOption(index,optIndex,event);}})))),/*#__PURE__*/React.createElement(\"div\",{className:\"quizwrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"quizfile-upload2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"file\",className:\"quizoption2\",onChange:function onChange(event){return optionImage(index,optIndex,event);}}),/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/image/option.png\",height:\"40px\"}))),optIndex>1&&/*#__PURE__*/React.createElement(\"button\",{className:\"delete\",onClick:function onClick(){return removeOption(index,optIndex);}},\"X\")));}),/*#__PURE__*/React.createElement(\"div\",{className:\"create-label\"},/*#__PURE__*/React.createElement(\"button\",{className:\"addoption\",onClick:function onClick(){return addOption(index);}},\"Add Option\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"create-label\"},index===question.length-1&&/*#__PURE__*/React.createElement(\"button\",{className:\"addoption\",onClick:function onClick(){return addQuestion();}},\"Add Question\"))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true}));}),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:11,sm:6,md:6,lg:4,className:\"card\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"createnumber\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Result\")),/*#__PURE__*/React.createElement(\"div\",{className:\"createnumber1\"},/*#__PURE__*/React.createElement(\"button\",{className:\"delete\"},\"X\"))),/*#__PURE__*/React.createElement(Card,{className:\"create-list\"},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"max\",className:\"result-text\",name:\"max\",placeholder:\"Max Score\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"min\",className:\"result-text\",name:\"min\",placeholder:\"Min Score\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"resultTitle\",className:\"result-text\",name:\"resultTitle\",placeholder:\"Title\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"phrase\",className:\"result-text\",name:\"phrase\",placeholder:\"Phrase\"}),/*#__PURE__*/React.createElement(\"span\",{id:\"upload\",className:\"result-text\",name:\"upload\"},\"Please Upload File\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"image/*\",id:\"input\",name:\"input\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"create-label\"},/*#__PURE__*/React.createElement(\"label\",{className:\"create-img\",htmlFor:\"input\"},/*#__PURE__*/React.createElement(\"span\",null,\"  Choose your Photo\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"create-label\"},/*#__PURE__*/React.createElement(\"button\",{className:\"addoption\"},\"Add Result\"))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"create-label\"},/*#__PURE__*/React.createElement(\"button\",{className:\"addoption\",onClick:updateList},\"Update\")));}));}export default EditQuiz;","map":{"version":3,"sources":["/home/tanu/Workspace/quiz12/src/admin/create/EditQuiz.js"],"names":["Card","CardContent","FormControl","Grid","makeStyles","MenuItem","Select","React","useEffect","useState","AdminLink","useParams","services","useStyles","theme","root","width","gridContainer","paddingTop","minHeight","paper","padding","spacing","textAlign","color","palette","text","secondary","headPart","backgroundColor","icon","categorytitle","fontSize","fontWeight","heading","typography","pxToRem","fontWeightRegular","EditQuiz","classes","id","questionTitle","priority","answer","optionsArray","optionLabel","optionImg","question","setQuestion","quiz","setQuiz","image","setImage","data","JSON","parse","localStorage","getItem","jwt","getQuizBySlug","quizSlug","options","method","headers","result","console","log","questionData","addQuestion","removeQuestion","index","list","splice","addOption","questionIndex","push","previous","slice","current","next","length","removeOption","answerIndex","newArray","filter","value","handleOption","event","values","target","handleQuestion","radioclick","clicked","handleImage","output","document","getElementById","src","URL","createObjectURL","files","onload","revokeObjectURL","imgpath","name","currentTime","Date","time","getTime","ext","split","file_path","myimg","replace","img","FormData","append","bannerImage","message","optionImage","getImage","updateList","quizId","title","slug","language","fileUpload","quizTitle","questionsArray","updateQuiz","map","adminQuizId","formControl","image_base_path","que","option","optIndex"],"mappings":"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","sourcesContent":["import { Card, CardContent, FormControl, Grid, makeStyles, MenuItem, Select} from '@material-ui/core';\nimport React,{useEffect, useState} from 'react';\nimport \"./createQuiz.css\"\nimport AdminLink from '../management/AdminLinks';\nimport { useParams } from 'react-router-dom';\nimport services from '../../services/services';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    gridContainer: {\n      paddingTop:\"20px\",\n      minHeight:\"100vh\"\n    },\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n      },\n    headPart:{\n        backgroundColor:\"#133b5c\",\n      color:\"#ffff\"\n    },\n    icon:{\n        color:\"#fff\"\n    },\n    categorytitle:{\n        color:\"#133b5c\",\n        fontSize:\"35px\",\n        fontWeight:\"600\",\n        textAlign:\"center\"\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(20),\n      fontWeight: theme.typography.fontWeightRegular,\n    },\n  }));\n\nfunction EditQuiz() {\n    const classes = useStyles();\n    const {id}=useParams();\n    const [question, setQuestion] = useState(\n      [\n        {\n          questionTitle: '',\n          priority:1,\n          answer:\"\",\n          optionsArray: [\n            { optionLabel: \"\",optionImg: \"\"  },\n            { optionLabel: \"\",optionImg: \"\"  }\n          ]\n        },\n      ]\n      )\n    \n \n  const [quiz,setQuiz]=useState([])\n  const[image,setImage]=useState('')\n  const data = JSON.parse(localStorage.getItem('friend'));\n  const jwt = data['jwt'];\n  useEffect(() => {\n      getQuizBySlug();\n  }, [])\n\n  const getQuizBySlug = async () => {\n       const data={\n         quizSlug:id\n       }\n      const options = {\n          method: 'Post',\n          headers: {\n              \"Apiuserid\": \"49507884\",\n              \"Scope\": \"In.QuizApp.READ\",\n              \"Authorization\": `quizApp-oauthtoken ${jwt}`,\n          }\n      }\n      const result = await services.getQuizBySlug(data,options)\n      console.log(result.data.data)\n      setQuiz(result.data.data)\n      setQuestion(JSON.parse(result.data.data[0].questionData))\n  };\n      const addQuestion = () => {\n        setQuestion([\n          ...question,\n          {\n            questionTitle: '',\n            priority:1,\n            answer:\"\",\n            optionsArray: [\n              { optionLabel: \"\",optionImg: \"\"  },\n              { optionLabel: \"\",optionImg: \"\"  }\n            ]\n          },\n        ])\n      }\n    \n      const removeQuestion = (index) => {\n        const list = [...question]\n        list.splice(index, 1);\n        setQuestion(list);\n      }\n      const addOption = (questionIndex) => {\n        const options = question[questionIndex];\n        options.optionsArray.push({ optionLabel: \"\", optionImg: \"\" });\n        const previous = question.slice(0, questionIndex);\n        const current = [options];\n        const next = question.slice(questionIndex + 1, question?.length);\n        setQuestion([\n          ...previous,\n          ...current,\n          ...next\n        ]);\n      }\n      const removeOption = (questionIndex, answerIndex) => {\n        const options = question[questionIndex];\n        const newArray = options.optionsArray.filter((value, index) => index !== answerIndex);\n        const previous = question.slice(0, questionIndex);\n        const current = [{ ...options, optionsArray: [...newArray] }];\n        const next = question.slice(questionIndex + 1, question?.length);\n        setQuestion([\n          ...previous,\n          ...current,\n          ...next\n        ]);\n      }\n      const handleOption = (questionIndex, index, event) => {\n        const values = [...question];\n    \n        values[questionIndex].optionsArray[index].optionLabel = event.target.value;\n        setQuestion(values);\n      }\n      const handleQuestion = (index, event) => {\n\n        const values = [...question];\n    \n        values[index].questionTitle = event.target.value;\n        setQuestion(values);\n    \n      }\n      const radioclick = (questionIndex,index,event) => {\n        const values = [...question];\n        var clicked= values[questionIndex].optionsArray[index].optionLabel\n        values[questionIndex].answer=clicked\n        setQuestion(values);\n      }\n      const handleImage = async(event) => {\n        var output = document.getElementById('output');\n        output.src = URL.createObjectURL(event.target.files[0]);\n        output.onload = function () {\n        URL.revokeObjectURL(output.src) // free memory\n         }\n         var imgpath=event.target.files[0]\n        const data = imgpath.name;\n        console.log(data)\n        const currentTime = new Date();\n        const time = currentTime.getTime();\n        const ext= data.split('.')\n        console.log(ext[0],ext[1])\n        var file_path=ext[0]+time+'.'+ext[1];\n        var myimg=data.replace(data,file_path)\n        var img=new FormData()\n        img.append(\"bannerImg\",imgpath)\n        img.append(\"newName\",myimg)\n        const options = {\n          method: 'POST',\n          headers: {\n            \"Apiuserid\": \"49507884\",\n            \"Scope\": \"In.QuizApp.INSERT\",\n            'Content-Type': 'multipart/form-data',\n            \"Authorization\": `quizApp-oauthtoken ${jwt}`,\n          }\n        }\n        const result = await services.bannerImage(img, options);\n       setImage(result.data.message)\n      }\n      \n      const optionImage = async(questionIndex, index, event) => {\n        // var imageOpt = document.getElementById('imageOpt');\n        // imageOpt.src = URL.createObjectURL(event.target.files[0]);\n        // imageOpt.onload = function () {\n        // URL.revokeObjectURL(imageOpt.src) // free memory\n        //  }\n        const values = [...question];\n         var imgpath=event.target.files[0]\n        const data = imgpath.name;\n        const currentTime = new Date();\n        const time = currentTime.getTime();\n        const ext= data.split('.')\n        var file_path= questionIndex+'_' + index+'_' +ext[0]+time+'.'+ext[1];\n        var myimg=data.replace(data,file_path)\n        var img=new FormData()\n        img.append(\"optionImg\",imgpath);\n        img.append(\"newName\",myimg)\n        const options = {\n          method: 'POST',\n          headers: {\n            \"Apiuserid\": \"49507884\",\n            \"Scope\": \"In.QuizApp.INSERT\",\n            'Content-Type': 'multipart/form-data',\n            \"Authorization\": `quizApp-oauthtoken ${jwt}`,\n          }\n        }\n        const result = await services.getImage(img, options);\n        values[questionIndex].optionsArray[index].optionImg=file_path;\n        setQuestion(values);\n      }\n      const updateList = async() => {\n        var quizId=document.getElementById(\"quizId\").value\n        var title=document.getElementById(\"title\").value\n        var slug=document.getElementById(\"slug\").value\n        var language=document.getElementById(\"language\").value\n        debugger\n       \n        var fileUpload={\n          quizId:quizId,\n          quizTitle:title,\n          quizSlug:slug,\n          language:language,\n          bannerImage:image,\n          questionsArray:question\n\n        }\n        const options = {\n          method: 'POST',\n          headers: {\n            \"Apiuserid\": \"49507884\",\n            \"Scope\": \"In.QuizApp.INSERT\",\n            'Content-Type': 'multipart/form-data',\n            \"Authorization\": `quizApp-oauthtoken ${jwt}`,\n          }\n        }\n        const result = await services.updateQuiz(fileUpload, options)\n        console.log(result)\n  }\n    return (\n        <div className={classes.root}>\n        <AdminLink/>\n           {\n             quiz?.map((list,index)=>{\n               return(\n                <Grid container className=\"detailView\">\n                <Grid container>\n                  <input type=\"hidden\" id=\"quizId\" defaultValue={list.adminQuizId} />\n                            <Grid item xs></Grid>\n                            <Grid item xs={11} sm={6} md={6} lg={4} >\n                            <div className=\"createnumber\">\n                                <h3>Title</h3>\n                            </div>\n                              <Card className=\"create-list\">\n                                          <Grid\n                                          container\n                                          justify=\"center\"\n                                         >\n                                       <input  type=\"text\" id=\"title\" className=\"title-text\"\n                                    name=\"title\"\n                                    defaultValue={list.title}\n                                    placeholder=\"Title\"\n                                    />\n                                       </Grid>\n                              </Card>\n                            </Grid>\n                            <Grid item xs></Grid>\n                          </Grid>\n                          <Grid container>\n                            <Grid item xs></Grid>\n                            <Grid item xs={11} sm={6} md={6} lg={4} >\n                            <div className=\"createnumber\">\n                                <h3>Slug</h3>\n                            </div>\n                              <Card className=\"create-list\">\n                                          <Grid\n                                          container\n                                          justify=\"center\"\n                                         >\n                                       <input  type=\"text\" id=\"slug\" className=\"title-text\"\n                                    name=\"slug\"\n                                    defaultValue={list.slug}\n                                    placeholder=\"Slug\"\n                                    />\n                                       </Grid>\n                              </Card>\n                            </Grid>\n                            <Grid item xs></Grid>\n                          </Grid>\n                           <Grid container>\n                            <Grid item xs></Grid>\n                            <Grid item xs={11} sm={6} md={6} lg={4} >\n                            <div className=\"createnumber\">\n                                <h3>language</h3>\n                            </div>\n                              <Card className=\"create-list\">\n                                          <Grid\n                                          container\n                                          justify=\"center\"\n                                         >\n                                        <FormControl className={classes.formControl}fullWidth  >\n                                          <select label=\"Category\" id=\"language\" value={list.language} className=\"title-text\" > \n                                            {/* <MenuItem value=\"\">select Language</MenuItem>      */}\n                                            <option value={list.language}>{list.language}</option>\n                                          </select>\n                                       </FormControl>\n                                       </Grid>\n                              </Card>\n                            </Grid>\n                            <Grid item xs></Grid>\n                          </Grid>\n                          <Grid container>\n                            <Grid item xs></Grid>\n                            <Grid item xs={11} sm={6} md={6} lg={4} >\n                            <div className=\"createnumber\">\n                                <h3>upload</h3>\n                            </div>\n                              <Card className=\"create-list\">\n                                          <Grid\n                                          container\n                                          justify=\"center\"\n                                         >\n                                           {\n                          list.bannerImage!=\"\"?\n                              <div className=\"img-holder\">\n                                         <img id=\"output\" className=\"img\" src={`${list.image_base_path}/${list.bannerImage}`}/>\n                                        </div>\n                                           :\n                                       <div className=\"img-holder\">\n                                         <img id=\"output\" className=\"img\"/>\n                                        </div>\n                        }\n                                         <input type=\"file\" accept=\"image/*\" id=\"input\" name=\"input\"  onChange={event => handleImage(event)} />\n                                        <div className=\"create-label\">\n                                        <label className=\"create-img\" htmlFor=\"input\">\n                                            <span>  Choose your Photo</span>\n                                        </label>\n                                        </div>\n                                       </Grid>\n                              </Card>\n                            </Grid>\n                            <Grid item xs></Grid>\n                          </Grid>\n                          {\n                        question.map((que, index) => (\n                          <Grid container>\n                            <Grid item xs></Grid>\n                            <Grid item xs={11} sm={6} md={6} lg={4} className=\"card\">\n                            <div className=\"createnumber\">\n                                <h3>Question</h3>\n                            </div>\n                            <div className=\"createnumber1\">\n                            {question.length > 1 &&<button className=\"delete\" onClick={() => removeQuestion(index)}>X</button>}\n                           </div>\n                              <Card className=\"create-list\">\n                                          <Grid\n                                          container\n                                          justify=\"center\"\n                                         >\n                                       <input  type=\"text\" id=\"question\" defaultValue={que.questionTitle} className=\"que-text\"\n                                    name=\"question\"\n                                    placeholder=\"Enter Question\"\n                                    onChange={event => handleQuestion(index, event)}\n                                    />\n                                       </Grid>\n                                       {que.optionsArray.map((option, optIndex) => (\n                                       <>\n                                      <div className=\"answerContainer\">\n                                       <input type=\"radio\"  name={`option_${index}`} defaultChecked={que.answer} onClick={event => radioclick(index, optIndex, event)} />\n                                       {option.optionImg?.length ?\n                      <Grid\n                      container\n                      className=\"viewOption\"\n                      key={optIndex}\n                      id=\"cardbox\">\n                      <Grid item xs={4} sm={4} md={4} lg={4} className=\"div-image\" >\n                       <img className=\"view-img\"  src={`${list.image_base_path}/${option.optionImg}`} /> \n                     </Grid>\n                     <Grid item xs={8} sm={8} md={8} lg={8} className=\"viewbg\" >\n                     <CardContent className=\"view-card\">\n                     <textarea className=\"create-option\" placeholder=\"Answer\" defaultValue={option.optionLabel} onChange={event => handleOption(index, optIndex, event)}/>\n                     </CardContent>\n                   </Grid>\n                   </Grid>\n                   : \n                 \n                   <Grid\n                   container\n                   className=\"viewOption\"\n                   key={index}\n                   id=\"cardbox\">\n                  <Grid item xs={12} sm={12} md={12} lg={12} className=\"viewbg\" >\n                     <CardContent className=\"view-card\">\n                     <textarea className=\"create-option\" placeholder=\"Answer\" defaultValue={option.optionLabel} onChange={event => handleOption(index, optIndex, event)}/>\n                     </CardContent>\n                   </Grid>\n                </Grid>\n                   }\n                   <div className=\"quizwrapper\">\n                                <div className=\"quizfile-upload2\">\n                                  <input type=\"file\" className=\"quizoption2\"\n                                    onChange={event => optionImage(index, optIndex, event)}\n                                  />\n                                  <img src=\"/assets/image/option.png\" height=\"40px\" />\n                                </div>\n                                </div>\n                                       {optIndex > 1 &&<button className=\"delete\"  onClick={() => removeOption(index, optIndex)}>X</button>}\n                                      </div>\n                                      </>\n                                       ))}\n                                      <div className=\"create-label\">\n                                      {\n                                      <button className=\"addoption\"   onClick={() => addOption(index)}>Add Option</button>}\n                                      </div>\n                              </Card>\n                              <div className=\"create-label\">\n                              {index === question.length - 1 &&  <button className=\"addoption\"   onClick={() => addQuestion()}>Add Question</button>}\n                             </div>\n                            </Grid>\n                            <Grid item xs></Grid>\n                          </Grid>\n                          \n                        ))}\n                          <Grid container>\n                            <Grid item xs></Grid>\n                            <Grid item xs={11} sm={6} md={6} lg={4} className=\"card\" >\n                            <div>\n                            <div className=\"createnumber\">\n                                <h3>Result</h3>\n                            </div>\n                           <div className=\"createnumber1\">\n                           <button className=\"delete\">X</button>\n                           </div>\n                            </div>\n                              <Card className=\"create-list\">\n                                          <Grid\n                                          container\n                                          justify=\"center\"\n                                         >\n                                       <input  type=\"text\" id=\"max\" className=\"result-text\"\n                                    name=\"max\"\n                                    placeholder=\"Max Score\"\n                                    />\n                                    <input  type=\"text\" id=\"min\" className=\"result-text\"\n                                    name=\"min\"\n                                    placeholder=\"Min Score\"\n                                    />\n                                    <input  type=\"text\" id=\"resultTitle\" className=\"result-text\"\n                                    name=\"resultTitle\"\n                                    placeholder=\"Title\"\n                                    />\n                                    <input  type=\"text\" id=\"phrase\" className=\"result-text\"\n                                    name=\"phrase\"\n                                    placeholder=\"Phrase\"\n                                    />\n                                     <span  id=\"upload\" className=\"result-text\"\n                                    name=\"upload\"\n                                    >Please Upload File</span>\n                                    <input type=\"file\" accept=\"image/*\" id=\"input\" name=\"input\" />\n                                        <div className=\"create-label\">\n                                        <label className=\"create-img\" htmlFor=\"input\">\n                                            <span>  Choose your Photo</span>\n                                        </label>\n                                        </div>\n                                       </Grid>\n                              </Card>\n                              <div className=\"create-label\">\n                                <button className=\"addoption\">Add Result</button>\n                             </div>\n                            </Grid>\n                            <Grid item xs></Grid>\n                          </Grid>\n                            <div className=\"create-label\">\n                                <button className=\"addoption\" onClick={updateList}>Update</button>\n                             </div>\n                </Grid>\n               )\n             })\n           }\n        </div>\n    )\n}\n\nexport default EditQuiz\n"]},"metadata":{},"sourceType":"module"}