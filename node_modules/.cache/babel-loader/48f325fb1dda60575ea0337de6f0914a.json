{"ast":null,"code":"import _regeneratorRuntime from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import TextField from'@material-ui/core/TextField';import{makeStyles}from'@material-ui/core/styles';import{Button,Typography}from'@material-ui/core';import services from'../../services/services';import{Redirect}from'react-router-dom';import User from'./User';var useStyles=makeStyles(function(theme){return{root:{'& .MuiTextField-root':{margin:theme.spacing(1),width:'25ch'}},heading:{textAlign:\"center\",fontWeight:\"500\",color:\"#133b5c\"},btn:{float:\"left\",margin:\"10px\",background:\"#133b5c\",color:\"#fff\",'&: hover':{color:\"#133b5c !important\"}}};});function AdminForm(){var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loggedIn=_useState2[0],setLoggedIn=_useState2[1];var data=JSON.parse(localStorage.getItem('friend'));var jwt=data['jwt'];var createAdmin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var firstName,lastName,username,password,passw,data,options,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:firstName=document.getElementById(\"firstName\").value;lastName=document.getElementById(\"lastName\").value;username=document.getElementById(\"username\").value;password=document.getElementById(\"password\").value;passw=/^[A-Za-z]\\w{6,20}$/;if(!(firstName===\"\"&&lastName===\"\"&&username===\"\")){_context.next=8;break;}_context.next=13;break;case 8:if(!password.value.match(passw)){_context.next=13;break;}alert('Correct, try another...');return _context.abrupt(\"return\",true);case 13:data={firstName:firstName,lastName:lastName,username:username,password:password};options={method:'POST',headers:{\"Apiuserid\":\"49507884\",\"Scope\":\"In.QuizApp.INSERT\",\"Authorization\":\"quizApp-oauthtoken \".concat(jwt)}};_context.next=17;return services.createAdmin(data,options);case 17:result=_context.sent;console.log(result);if(result.data.code==200){setLoggedIn(true);}case 20:case\"end\":return _context.stop();}}},_callee);}));return function createAdmin(){return _ref.apply(this,arguments);};}();if(loggedIn){window.location.reload(true);}return/*#__PURE__*/React.createElement(\"form\",{className:classes.root},/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",className:classes.heading},\"Create User\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TextField,{id:\"firstName\",label:\"First Name\",type:\"firstName\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TextField,{id:\"lastName\",label:\"Last Name\",type:\"lastName\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TextField,{id:\"username\",label:\"User Name\",type:\"userName\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(TextField,{id:\"password\",label:\"Password\",type:\"password\"})),/*#__PURE__*/React.createElement(Button,{className:classes.btn,size:\"normal\",variant:\"contained\",onClick:createAdmin},\"Create\"),/*#__PURE__*/React.createElement(Button,{className:classes.btn,size:\"normal\",variant:\"contained\"// onClick={addTask}\n},\"Reset\"));}export default AdminForm;","map":{"version":3,"sources":["/home/tanu/Workspace/quiz12/src/admin/management/AdminForm.js"],"names":["React","useState","TextField","makeStyles","Button","Typography","services","Redirect","User","useStyles","theme","root","margin","spacing","width","heading","textAlign","fontWeight","color","btn","float","background","AdminForm","classes","loggedIn","setLoggedIn","data","JSON","parse","localStorage","getItem","jwt","createAdmin","firstName","document","getElementById","value","lastName","username","password","passw","match","alert","options","method","headers","result","console","log","code","window","location","reload"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Typography } from '@material-ui/core';\nimport services from '../../services/services';\nimport { Redirect } from 'react-router-dom';\nimport User from './User';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      '& .MuiTextField-root': {\n        margin: theme.spacing(1),\n        width: '25ch',\n      },\n    },\n    heading:{\n          textAlign:\"center\",\n          fontWeight:\"500\",\n          color:\"#133b5c\"   \n         },\n    btn:{\n        float:\"left\",\n        margin:\"10px\",\n        background:\"#133b5c\",\n        color:\"#fff\",\n        '&: hover':{\n        color: \"#133b5c !important\",\n        }\n\n    }\n  }));\nfunction AdminForm() {\n    const classes = useStyles();\n    const[loggedIn,setLoggedIn]=useState(false)\n\n   const  data= JSON.parse(localStorage.getItem('friend'));\n   const jwt= data['jwt'];\n\n    const createAdmin = async() => {\n      var firstName = document.getElementById(\"firstName\").value;\n      var lastName = document.getElementById(\"lastName\").value;\n      var username = document.getElementById(\"username\").value;\n      var password = document.getElementById(\"password\").value;\n      var passw=  /^[A-Za-z]\\w{6,20}$/;\n\n     if(firstName===\"\"&&lastName===\"\" && username===\"\")\n     {\n\n     }\n     else if(password.value.match(passw))\n     {\n      alert('Correct, try another...');\n      return true;\n     }\n     else{\n\n     }\n      var data = {\n        firstName:firstName,\n        lastName: lastName,\n        username: username,\n        password: password,\n      }\n      const options = {\n        method: 'POST',\n       headers:{\n          \"Apiuserid\": \"49507884\",\n          \"Scope\": \"In.QuizApp.INSERT\",\n          \"Authorization\": `quizApp-oauthtoken ${jwt}`,\n       }\n      }\n        const result= await services.createAdmin(data,options)\n        console.log(result)\n       if(result.data.code==200)\n       {\n        setLoggedIn(true)\n       }\n    }  \n  if(loggedIn)\n  {\n    window.location.reload(true);\n   \n  }\n\n\n    return (\n        <form className={classes.root}>\n            <Typography variant=\"h5\" className={classes.heading}>Create User</Typography>\n            <div>\n                <TextField\n                id=\"firstName\"\n                label=\"First Name\"\n                type=\"firstName\"\n                />\n            </div>\n            <div>\n                <TextField\n                id=\"lastName\"\n                label=\"Last Name\"\n                type=\"lastName\"\n                />\n            </div>\n            <div>\n                <TextField\n                id=\"username\"\n                label=\"User Name\"\n                type=\"userName\"\n                />\n            </div>\n            <div>\n              <TextField\n              id=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              />\n            </div> \n    \n            <Button\n            className={classes.btn}\n            size=\"normal\"\n            variant=\"contained\"\n            onClick={createAdmin}\n              >\n                Create\n            </Button>\n            <Button\n            className={classes.btn}\n            size=\"normal\"\n            variant=\"contained\"\n            // onClick={addTask}\n            >\n                Reset\n              </Button>\n        </form>\n    )\n}\n\nexport default AdminForm\n"]},"metadata":{},"sourceType":"module"}