{"ast":null,"code":"var _jsxFileName = \"/home/tanu/Workspace/quiz12/src/user/QuilPlayPart/PlayQuizPart.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Grid, Card, CardContent } from '@material-ui/core';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport '../style/playquiz.css';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport services from '../../services/services';\nimport { Redirect } from 'react-router-dom';\nimport Footer from '../footer/Footer';\nconst BorderLinearProgress = withStyles(theme => ({\n  root: {\n    height: 10,\n    borderRadius: 5,\n    width: \"100%\"\n  },\n  colorPrimary: {\n    backgroundColor: theme.palette.grey[theme.palette.type === 'light' ? 200 : 700]\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: '#FFDD52'\n  }\n}))(LinearProgress);\nconst useStyles = makeStyles(theme => ({\n  gridContainer: {\n    paddingLeft: \"20px\",\n    paddingRight: \"20px\",\n    background: \"#7555D9\",\n    minHeight: \"100vh\"\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n    color: theme.palette.text.secondary\n  },\n  pro: {\n    textAlign: \"center\"\n  }\n}));\n\nfunction PlayQuizPart({\n  quizdata,\n  que\n}) {\n  var _quiz$activeStep, _quiz$activeStep$opti;\n\n  var score = 0;\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [meter, setMeter] = useState(false);\n  const [correctAns, setCorrectAns] = useState(0);\n  const [clickedAns, setClickedAns] = useState(0);\n  const [progress, setProgress] = useState(false);\n  const [count, setCount] = useState(1);\n  let [answerList, setAnswerList] = React.useState([]);\n  const data = JSON.parse(localStorage.getItem('userInfo'));\n  const name = data['name'];\n  let quiz = [{\n    label: que === null || que === void 0 ? void 0 : que.question,\n    options: que === null || que === void 0 ? void 0 : que.options,\n    answer: que === null || que === void 0 ? void 0 : que.answer\n  }];\n  const classes = useStyles();\n\n  if (que === null || que === void 0 ? void 0 : que.length) {\n    quiz = que;\n  }\n\n  function showProgress(index) {\n    var increment = Math.ceil(count / maxSteps * 100);\n    setProgress(increment);\n  }\n\n  const maxSteps = quiz.length;\n\n  const handleSelect = label => {// setClickedAns(label)\n    //  if(label===quiz[activeStep].answer){\n    //   increaseScore();\n    //      setCorrectAns(quiz[activeStep].answer)\n    //      setAnswerList([\n    //       ...\n    //       answerList,\n    //       {\n    //        qusId:count,\n    //        answer:label,\n    //        correct:\"yes\"\n    //       }\n    //     ])       }\n    //  else{\n    //    setCorrectAns(quiz[activeStep].answer)\n    //    setAnswerList([\n    //     ...\n    //     answerList,\n    //     {\n    //      qusId:count,\n    //      answer:label,\n    //      correct:\"no\"\n    //     }\n    //   ])\n    //  }\n  };\n\n  console.log(score);\n\n  const handleNext = label => {\n    handleSelect(label);\n\n    if (maxSteps - 1 != activeStep) {\n      setTimeout(() => {\n        setActiveStep(prevActiveStep => prevActiveStep + 1);\n        setCount(count + 1);\n      }, 300);\n      setClickedAns(label);\n\n      if (label === quiz[activeStep].answer) {\n        increaseScore();\n        setCorrectAns(quiz[activeStep].answer);\n        setAnswerList([...answerList, {\n          qusId: count,\n          answer: label,\n          correct: \"yes\"\n        }]);\n      } else {\n        setCorrectAns(quiz[activeStep].answer);\n        setAnswerList([...answerList, {\n          qusId: count,\n          answer: label,\n          correct: \"no\"\n        }]);\n      }\n    } else {\n      if (label === quiz[activeStep].answer) {\n        increaseScore();\n        setCorrectAns(quiz[activeStep].answer);\n        setAnswerList([...answerList, {\n          qusId: count,\n          answer: label,\n          correct: \"yes\"\n        }]);\n      } else {\n        setCorrectAns(quiz[activeStep].answer);\n        setAnswerList([...answerList, {\n          qusId: count,\n          answer: label,\n          correct: \"no\"\n        }]);\n      }\n\n      setTimeout(() => {\n        handleSubmit([...answerList, {\n          qusId: count,\n          answer: label,\n          correct: \"yes\"\n        }]);\n      }, 500);\n    } //showProgress(quiz[activeStep].qusId);\n\n  };\n\n  const increaseScore = () => {\n    score = score + 1;\n  };\n\n  const handleSubmit = async ([...answerList]) => {\n    const data = {\n      quizId: quizdata[0].adminQuizId,\n      score: score,\n      playerName: name,\n      answers: answerList\n    };\n    console.log(data);\n    const options = {\n      method: 'POST',\n      headers: {\n        \"Apiuserid\": \"49507884\",\n        \"Scope\": \"In.QuizApp.INSERT\"\n      }\n    };\n    const result = await services.saveAnswer(data, options);\n    console.log(result);\n    setMeter(result.data.code);\n  };\n\n  if (meter === 200) {\n    //   var datalist={list:que.length,quizId:quizId,createdBy:createdBy,score:{score}}\n    //   localStorage.setItem('alldata',JSON.stringify(datalist))\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: '/score'\n      },\n      push: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 10\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.gridContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 11,\n    sm: 6,\n    md: 6,\n    lg: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 22\n    }\n  }, quizdata[0].title)), /*#__PURE__*/React.createElement(\"div\", {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"question\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 22\n    }\n  }, \"Question \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 56\n    }\n  }, count, \"/\", maxSteps))), /*#__PURE__*/React.createElement(\"div\", {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(BorderLinearProgress, {\n    variant: \"determinate\",\n    value: progress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Card, {\n    className: \"playoptioncard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"questionname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }\n  }, quiz[activeStep].questionTitle), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"playcard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 20\n    }\n  }, (_quiz$activeStep = quiz[activeStep]) === null || _quiz$activeStep === void 0 ? void 0 : (_quiz$activeStep$opti = _quiz$activeStep.optionsArray) === null || _quiz$activeStep$opti === void 0 ? void 0 : _quiz$activeStep$opti.map((options, index) => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, options.optionImg.length ? /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      className: correctAns === options.optionLabel ? 'correctplay' : clickedAns === options.optionLabel ? 'incorrectplay' : 'options',\n      correct: quiz[activeStep].answer,\n      onClick: () => {\n        handleNext(options.optionLabel);\n      },\n      key: index,\n      id: \"cardbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 4,\n      sm: 4,\n      md: 4,\n      lg: 4,\n      className: \"image-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"optionImg\",\n      src: `${quizdata[0].image_base_path}/${options.optionImg}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 26\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 8,\n      sm: 8,\n      md: 8,\n      lg: 8,\n      className: \"optionbg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      className: \"cardcontent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"optioncontent\",\n      id: \"cardText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 26\n      }\n    }, options.optionLabel)))) : /*#__PURE__*/React.createElement(Grid, {\n      justify: \"center\",\n      container: true,\n      className: \"new\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 10,\n      sm: 10,\n      md: 10,\n      lg: 10,\n      className: correctAns === options.optionLabel ? 'correctplay' : clickedAns === options.optionLabel ? 'incorrectplay' : 'options',\n      correct: quiz[activeStep].answer,\n      onClick: () => {\n        handleNext(options.optionLabel);\n      },\n      key: index,\n      id: \"cardbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 24\n      }\n    }, /*#__PURE__*/React.createElement(CardContent, {\n      className: \"newcontent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"optioncontent\",\n      id: \"cardText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 23\n      }\n    }, options.optionLabel)))));\n  })))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 8\n    }\n  }));\n}\n\nexport default PlayQuizPart;","map":{"version":3,"sources":["/home/tanu/Workspace/quiz12/src/user/QuilPlayPart/PlayQuizPart.js"],"names":["React","useState","useEffect","Grid","Card","CardContent","makeStyles","withStyles","LinearProgress","services","Redirect","Footer","BorderLinearProgress","theme","root","height","borderRadius","width","colorPrimary","backgroundColor","palette","grey","type","bar","useStyles","gridContainer","paddingLeft","paddingRight","background","minHeight","paper","padding","spacing","textAlign","color","text","secondary","pro","PlayQuizPart","quizdata","que","score","activeStep","setActiveStep","meter","setMeter","correctAns","setCorrectAns","clickedAns","setClickedAns","progress","setProgress","count","setCount","answerList","setAnswerList","data","JSON","parse","localStorage","getItem","name","quiz","label","question","options","answer","classes","length","showProgress","index","increment","Math","ceil","maxSteps","handleSelect","console","log","handleNext","setTimeout","prevActiveStep","increaseScore","qusId","correct","handleSubmit","quizId","adminQuizId","playerName","answers","method","headers","result","saveAnswer","code","pathname","title","questionTitle","optionsArray","map","optionImg","optionLabel","image_base_path"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {Grid,Card, CardContent} from '@material-ui/core';\nimport { makeStyles,withStyles } from '@material-ui/core/styles';\nimport '../style/playquiz.css'\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport services from '../../services/services';\nimport { Redirect } from 'react-router-dom';\nimport Footer from '../footer/Footer';\n\nconst BorderLinearProgress = withStyles((theme) => ({\n    root: {\n      height: 10,\n      borderRadius: 5,\n      width:\"100%\",\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.grey[theme.palette.type === 'light' ? 200 : 700],\n    },\n    bar: {\n      borderRadius: 5,\n      backgroundColor: '#FFDD52',\n    },\n  }))(LinearProgress);\n  \nconst useStyles = makeStyles((theme)=>({\n    gridContainer: {\n      paddingLeft: \"20px\",\n      paddingRight: \"20px\",\n      background:\"#7555D9\",\n      minHeight:\"100vh\"\n    },\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n      },\n      pro:{\n          textAlign:\"center\"\n      }\n    \n  }));\nfunction PlayQuizPart({quizdata,que}) {\n var score=0\n const [activeStep, setActiveStep] = React.useState(0);\n const [meter,setMeter]=useState(false);\n const [correctAns,setCorrectAns]= useState(0);\n const [clickedAns,setClickedAns]= useState(0);\n const [progress,setProgress]=useState(false);\n const [count,setCount]=useState(1);\n let [answerList, setAnswerList] = React.useState([]);\n const data = JSON.parse(localStorage.getItem('userInfo'));\n const name = data['name'];\n\n  \n  let quiz = [\n    {\n        label: que?.question,\n        options: que?.options,\n        answer:que?.answer\n    },\n];\n\n    const classes = useStyles();\n    if (que?.length) {\n      quiz = que;\n    }\n    \n    function showProgress(index) {\n\n      var increment = Math.ceil((count) / (maxSteps) * 100);\n      setProgress(increment)\n      \n    }\n    const maxSteps = quiz.length;\n    const handleSelect = (label)=>{\n      // setClickedAns(label)\n      //  if(label===quiz[activeStep].answer){\n      //   increaseScore();\n      //      setCorrectAns(quiz[activeStep].answer)\n      //      setAnswerList([\n      //       ...\n      //       answerList,\n      //       {\n      //        qusId:count,\n      //        answer:label,\n      //        correct:\"yes\"\n      //       }\n      //     ])       }\n      //  else{\n      //    setCorrectAns(quiz[activeStep].answer)\n      //    setAnswerList([\n      //     ...\n      //     answerList,\n      //     {\n      //      qusId:count,\n      //      answer:label,\n      //      correct:\"no\"\n      //     }\n      //   ])\n      //  }\n     \n    }\n    console.log(score)\nconst handleNext = (label)=>{\n  handleSelect(label);\n  if(maxSteps-1!=activeStep){\n    setTimeout(()=>{setActiveStep(prevActiveStep => prevActiveStep + 1)\n      setCount(count+1)},300)\n      setClickedAns(label)\n      if(label===quiz[activeStep].answer){\n       increaseScore();\n          setCorrectAns(quiz[activeStep].answer)\n          setAnswerList([\n           ...\n           answerList,\n           {\n            qusId:count,\n            answer:label,\n            correct:\"yes\"\n           }\n         ])       }\n      else{\n        setCorrectAns(quiz[activeStep].answer)\n        setAnswerList([\n         ...\n         answerList,\n         {\n          qusId:count,\n          answer:label,\n          correct:\"no\"\n         }\n       ])\n      }\n  }\n  else{\n    if(label===quiz[activeStep].answer){\n      increaseScore();\n         setCorrectAns(quiz[activeStep].answer)\n         setAnswerList([\n          ...\n          answerList,\n          {\n           qusId:count,\n           answer:label,\n           correct:\"yes\"\n          }\n        ])       }\n     else{\n       setCorrectAns(quiz[activeStep].answer)\n       setAnswerList([\n        ...\n        answerList,\n        {\n         qusId:count,\n         answer:label,\n         correct:\"no\"\n        }\n      ])\n     }\n    setTimeout(()=>{ handleSubmit([...answerList,{\n      qusId:count,\n      answer:label,\n      correct:\"yes\"\n     }])},500)\n  }\n  //showProgress(quiz[activeStep].qusId);\n}\nconst increaseScore = ()=>{\nscore= score+1\n}\nconst handleSubmit = async([...answerList]) =>{\n    const data={\n      quizId:quizdata[0].adminQuizId,\n      score:score,\n      playerName:name,\n      answers:answerList\n    }\n\n    console.log(data)\n    const options = {\n      method: 'POST',\n      headers: {\n        \"Apiuserid\": \"49507884\",\n        \"Scope\": \"In.QuizApp.INSERT\",\n      }\n    }\n    const result = await services.saveAnswer(data, options)\n    console.log(result)\n     setMeter(result.data.code)\n}\nif(meter===200)\n{\n//   var datalist={list:que.length,quizId:quizId,createdBy:createdBy,score:{score}}\n//   localStorage.setItem('alldata',JSON.stringify(datalist))\n  return(<Redirect to={{\n    pathname: '/score',\n    }} push={true}\n     />\n    )\n\n}\n    return (\n        <div className={classes.gridContainer}>\n        <Grid container>\n           <Grid item xs></Grid>\n            <Grid item xs={11} sm={6} md={6} lg={4} >\n                 <div justify=\"center\">\n                     <h3 className=\"title\">{quizdata[0].title}</h3>\n                   \n                 </div>\n                 <div justify=\"center\">     \n                     <h4 className=\"question\">Question <span>{count}/{maxSteps}</span></h4>\n                 </div>\n                 <div justify=\"center\">\n                    <BorderLinearProgress variant=\"determinate\" value={progress} />\n                 </div>\n                 <Card className=\"playoptioncard\">\n                <h3 className=\"questionname\">{quiz[activeStep].questionTitle}</h3>\n                   <div className=\"playcard\">\n                    {\n                    quiz[activeStep]?.optionsArray?.map((options,index)=>{\n                        \n                    return(\n                      <>\n                      {options.optionImg.length ?\n                        <Grid\n                        container\n                        className= {\n                          correctAns === options.optionLabel ?\n                          'correctplay' : \n                        clickedAns === options.optionLabel?\n                        'incorrectplay' : 'options'}\n                        correct={quiz[activeStep].answer}\n                        onClick={() => { handleNext(options.optionLabel) }}\n                        key={index}\n                        id=\"cardbox\">\n                        \n                        \n                        <Grid item xs={4} sm={4} md={4} lg={4} className=\"image-div\" >\n                         <img className=\"optionImg\" src={`${quizdata[0].image_base_path}/${options.optionImg}`} /> \n                     </Grid>\n                     <Grid item xs={8} sm={8} md={8} lg={8} className=\"optionbg\" >\n                       <CardContent className=\"cardcontent\">\n                         <h3 className=\"optioncontent\" id=\"cardText\">\n                           {options.optionLabel}\n                         </h3>\n                       </CardContent>\n                  \n                    \n                     </Grid>\n                     </Grid>\n                     : \n                   \n                     <Grid justify=\"center\" container className=\"new\">\n                       <Grid item xs={10} sm={10} md={10} lg={10}\n                     className= {\n                      correctAns === options.optionLabel ?\n                      'correctplay' : \n                    clickedAns === options.optionLabel?\n                    'incorrectplay' : 'options'}\n                    correct={quiz[activeStep].answer}\n                    onClick={() => { handleNext(options.optionLabel) }}\n                     key={index}\n                     id=\"cardbox\">\n                    \n                    <CardContent className=\"newcontent\">\n                      <h3 className=\"optioncontent\" id=\"cardText\">\n                        {options.optionLabel}\n                      </h3>\n                    </CardContent>\n               \n                  </Grid>\n                     </Grid>\n                    }</>\n\n                    )\n\n                    })\n                    } \n                </div>\n         </Card>\n            </Grid>\n            <Grid item xs></Grid>\n       </Grid>\n       <Footer/>\n  </div>\n    )\n}\n\nexport default PlayQuizPart\n"]},"metadata":{},"sourceType":"module"}