{"ast":null,"code":"import _regeneratorRuntime from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import'../style/sharelink.css';import{Grid,Card}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import services from'../../services/services';import{Redirect,useParams}from'react-router-dom';import InstaModel from'./InstaModel';import Footer from'../footer/Footer';var useStyles=makeStyles(function(theme){return{gridContainer:{paddingLeft:\"20px\",paddingRight:\"20px\",background:\"#7555D9\",minHeight:\"100vh\"},paper:{padding:theme.spacing(2),textAlign:'center',color:theme.palette.text.secondary}};});function ShareLink(props){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allResult=_useState2[0],setAllResult=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var data=JSON.parse(localStorage.getItem('createId'));var createId=data['quizId'];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var categoryId=JSON.parse(localStorage.getItem(\"categoryId\"));useEffect(function(){getCategory();},[1]);var getCategory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var categoryData,options,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:categoryData={categoryId:categoryId};options={method:'POST',headers:{\"Apiuserid\":\"49507884\",\"Scope\":\"In.QuizApp.READ\"}};_context.next=4;return services.getCategory(categoryData,options);case 4:result=_context.sent;setTitle(result.data.data);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getCategory(){return _ref.apply(this,arguments);};}();var textAreaRef=useRef(null);function copyToClipboard(e){textAreaRef.current.select();document.execCommand('copy');e.target.focus();};// };\nuseEffect(function(){getCreaterResult();},[]);var getCreaterResult=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var dataid,options,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dataid={quizId:createId};options={method:'POST',headers:{\"Apiuserid\":\"49507884\",\"Scope\":\"In.QuizApp.Read\"}};_context2.next=4;return services.getCreaterResult(dataid,options);case 4:result=_context2.sent;setAllResult(result.data.data);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function getCreaterResult(){return _ref2.apply(this,arguments);};}();var refresh=function refresh(){window.location.reload(false);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:classes.gridContainer},/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:11,sm:6,md:6,lg:4},/*#__PURE__*/React.createElement(\"div\",{justify:\"center\",className:classes.head},/*#__PURE__*/React.createElement(\"h3\",{className:\"title\"},title.title)),/*#__PURE__*/React.createElement(Card,{className:\"form-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sharelink\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"challenge\"},\"Your Challenge is ready\"),/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/image/friend.svg\"}),/*#__PURE__*/React.createElement(\"h3\",{className:\"this-link\"},\"Share this link with your friends\"),/*#__PURE__*/React.createElement(\"input\",{ref:textAreaRef,className:\"quizInput\",defaultValue:\"https://webestfriends.com/friendlink/\".concat(createId)}),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"btn-wrapper\"},/*#__PURE__*/React.createElement(\"button\",{onClick:copyToClipboard,className:\"copy\"},\" Copy Link\")),/*#__PURE__*/React.createElement(\"div\",{className:\"btn-list\"},/*#__PURE__*/React.createElement(\"button\",{className:\"whatsapp\"},/*#__PURE__*/React.createElement(\"a\",{href:\"whatsapp://send?text=https://webestfriends.com/friendlink/\".concat(createId)},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/image/whatsapp.png\",className:\"whatsapp-img\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"status\"},\"WhatsApp Status\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"instagram\",onClick:function onClick(){return setOpen(true);}},/*#__PURE__*/React.createElement(\"a\",{href:\"#\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/assets/image/instagram.png\",className:\"instagram-img\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"instagram-status\"},\"Add to Instagram Bio\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"result-wrapper\"},/*#__PURE__*/React.createElement(\"button\",{className:\"result\",onClick:refresh},\" View Results\")),(allResult===null||allResult===void 0?void 0:allResult.length)?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"sharelink\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"challenge\"},\"Who knows you the best:\")),/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table-data\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Score\"))),allResult===null||allResult===void 0?void 0:allResult.map(function(tabledata){return/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,tabledata.feedbackBy),/*#__PURE__*/React.createElement(\"td\",null,tabledata.score)));})))):null,/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},\" \"))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:true})),/*#__PURE__*/React.createElement(InstaModel,{open:open,setOpen:setOpen,maxWidth:\"sm\"}),/*#__PURE__*/React.createElement(Footer,null)));}export default ShareLink;","map":{"version":3,"sources":["/home/tanu/Workspace/quiz12/src/user/form/ShareLink.js"],"names":["React","useState","useRef","useEffect","Grid","Card","makeStyles","services","Redirect","useParams","InstaModel","Footer","useStyles","theme","gridContainer","paddingLeft","paddingRight","background","minHeight","paper","padding","spacing","textAlign","color","palette","text","secondary","ShareLink","props","classes","allResult","setAllResult","open","setOpen","data","JSON","parse","localStorage","getItem","createId","title","setTitle","categoryId","getCategory","categoryData","options","method","headers","result","textAreaRef","copyToClipboard","e","current","select","document","execCommand","target","focus","getCreaterResult","dataid","quizId","refresh","window","location","reload","head","length","map","tabledata","feedbackBy","score"],"mappings":"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","sourcesContent":["import React,{useState,useRef, useEffect} from 'react'\nimport '../style/sharelink.css'\nimport {  Grid, Card } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport services from '../../services/services';\nimport { Redirect, useParams } from 'react-router-dom';\nimport InstaModel from './InstaModel';\nimport Footer from '../footer/Footer';\n\n\n\nconst useStyles = makeStyles((theme)=>({\n    gridContainer: {\n      paddingLeft: \"20px\",\n      paddingRight: \"20px\",\n      background:\"#7555D9\",\n      minHeight:\"100vh\"\n    },\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n      },\n    \n  }));\n  \nfunction ShareLink(props) {\n   \n    \n    const classes = useStyles();\n    const [allResult,setAllResult]=useState([])\n    const [open,setOpen] = useState(false);\n    const data = JSON.parse(localStorage.getItem('createId'));\n    const createId= data['quizId'];\n    const [title,setTitle]=useState({})\n    var categoryId = JSON.parse(localStorage.getItem(\"categoryId\"));\n  \n    useEffect(() => {\n      getCategory();\n  }, [1])\n  \n  const  getCategory = async () => {\n   const categoryData={\n       categoryId:categoryId\n   }\n  \n   const options = {\n       method: 'POST',\n       headers: {\n           \"Apiuserid\": \"49507884\",\n           \"Scope\": \"In.QuizApp.READ\",   \n       }\n   }\n   const result = await services. getCategory(categoryData,options)\n   setTitle(result.data.data)\n  };\n    \n    const textAreaRef = useRef(null);\n\n    function copyToClipboard(e) {\n    textAreaRef.current.select();\n    document.execCommand('copy');\n    e.target.focus();\n   \n    };\n   // };\n  \n   useEffect(() => {\n       getCreaterResult();\n   }, [])\n\n   const getCreaterResult = async()=>{\n   const dataid = {\n    quizId: createId,\n  }\n  const options = {\n    method: 'POST',\n    headers: {\n      \"Apiuserid\": \"49507884\",\n      \"Scope\": \"In.QuizApp.Read\",\n    }\n  }\n  const result = await services.getCreaterResult(dataid, options)\n  setAllResult(result.data.data)\n   }\n   const refresh =()=>{\n    window.location.reload(false);\n   }\n   \n        return (\n        <>\n        <div className={classes.gridContainer}>\n            <Grid container>\n                <Grid item xs></Grid>\n                <Grid item xs={11} sm={6} md={6} lg={4} >\n                    <div justify=\"center\" className={classes.head}>\n                       <h3 className=\"title\">{title.title}</h3>\n                    </div>\n\n                    <Card className=\"form-card\">\n                        <div className=\"sharelink\">\n                            <h3 className=\"challenge\">Your Challenge is ready</h3>\n                            <img src=\"/assets/image/friend.svg\"/>\n                            <h3 className=\"this-link\">Share this link with your friends</h3>\n                            <input  ref={textAreaRef} className=\"quizInput\" defaultValue={`https://webestfriends.com/friendlink/${createId}`} />\n                            \n                            <br />\n                        </div>\n                        <div className=\"btn-wrapper\">\n                            <button  onClick={copyToClipboard} className=\"copy\"> Copy Link</button>\n                        </div>\n                        <div className=\"btn-list\">\n                            <button className=\"whatsapp\">\n                                <a href={`whatsapp://send?text=https://webestfriends.com/friendlink/${createId}`}>\n                                  <img src=\"/assets/image/whatsapp.png\" className=\"whatsapp-img\"/><span className=\"status\">WhatsApp Status</span> \n                                </a>\n                            </button>                            \n                            <button className=\"instagram\" onClick={ ()=> setOpen(true)}>\n                                <a href=\"#\">\n                                  <img src=\"/assets/image/instagram.png\" className=\"instagram-img\" /><span className=\"instagram-status\">Add to Instagram Bio</span>\n                                </a>\n                            </button> \n                           {/* <button className=\"sharing\">\n                                <a href=\"#\">\n                                  <img src=\"/assets/image/sharing.svg\"className=\"sharing-img\" /><span className=\"status\">Share</span>\n                                </a>\n                          </button>        */}\n                       </div>\n                       <div className=\"result-wrapper\">\n                          <button className=\"result\" onClick={refresh}> View Results</button>\n                       </div>                   \n                      \n                     \n                             {\n                               allResult?.length?\n                               <>\n                               <div className=\"sharelink\">\n                               <h3 className=\"challenge\">Who knows you the best:</h3>\n                           </div>\n                               <Grid container justify=\"center\">                   \n                                <table className=\"table-data\">\n                                    <thead>\n                                        <tr>\n                                            <th>Name</th>\n                                            <th>Score</th>\n                                        </tr>\n                                    </thead>\n                                    {\n                          allResult?.map((tabledata)=>{\n                              return(\n                                    <tbody>\n                                    <tr>\n                                        <td>{tabledata.feedbackBy}</td>\n                                        <td>{tabledata.score}</td>\n                                    </tr>\n                                    </tbody>\n                                    )\n                                  })\n                                }\n                                </table>                   \n                          </Grid>\n                          </>:null\n                             }  \n                               \n                                \n                               \n                     <Grid item xs> </Grid>\n                    </Card>\n                </Grid>\n                <Grid item xs>\n\n                </Grid>\n            </Grid>\n            \n                     <InstaModel  open={open}\n                    setOpen={setOpen}\n                    maxWidth=\"sm\"/>  \n                \n            <Footer/>\n        </div>\n       \n        </>\n        );\n}\n\nexport default ShareLink\n"]},"metadata":{},"sourceType":"module"}