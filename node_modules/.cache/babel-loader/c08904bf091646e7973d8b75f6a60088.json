{"ast":null,"code":"import _regeneratorRuntime from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tanu/Workspace/quiz12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import TextField from'@material-ui/core/TextField';import{makeStyles}from'@material-ui/core/styles';import{Button,Typography,Grid,Divider,Paper}from'@material-ui/core';import'./CategoryForm.css';import services from'../../services/services';var useStyles=makeStyles(function(theme){return{root:{'& .MuiTextField-root':{margin:theme.spacing(1),width:'25ch'}},heading:{textAlign:\"center\",fontWeight:\"500\",color:\"#133b5c\"},btn:{margin:\"10px\",background:\"#133b5c\",color:\"#fff\",'&: hover':{color:\"#133b5c !important\"}},form:{textAlign:\"center\"},createwrap:{textAlign:\"center\"}};});function CategoryForm(){var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loggedIn=_useState2[0],setLoggedIn=_useState2[1];var data=JSON.parse(localStorage.getItem('friend'));var jwt=data['jwt'];var userId=data['userId'];var loadFile=function loadFile(e){var output=document.getElementById('output');output.src=URL.createObjectURL(e.target.files[0]);output.onload=function(){URL.revokeObjectURL(output.src);// free memory\n};};var createCategory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _document$getElementB;var data,categoryTitle,questionlength,userfile,options,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=new FormData();categoryTitle=document.getElementById(\"categoryTitle\").value;questionlength=document.getElementById(\"questionlength\").value;userfile=(_document$getElementB=document.getElementById('input').files)===null||_document$getElementB===void 0?void 0:_document$getElementB[0];if(categoryTitle==\"\"||categoryTitle==null||categoryTitle.length<=2){alert(\"please enter required Category\");}data.append(\"categoryTitle\",categoryTitle);data.append(\"userId\",userId);data.append(\"limit\",questionlength);data.append(\"userfile\",userfile);options={method:'POST',headers:{\"Apiuserid\":\"49507884\",\"Scope\":\"In.QuizApp.INSERT\",'Content-Type':'multipart/form-data',\"Authorization\":\"quizApp-oauthtoken \".concat(jwt)}};_context.next=12;return services.createCategory(data,options);case 12:result=_context.sent;if(result.data.code==200){setLoggedIn(true);}case 14:case\"end\":return _context.stop();}}},_callee);}));return function createCategory(){return _ref.apply(this,arguments);};}();if(loggedIn){window.location.reload();}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",className:classes.heading},\"Create Category\"),/*#__PURE__*/React.createElement(\"form\",{className:classes.root},/*#__PURE__*/React.createElement(\"div\",{className:classes.form},/*#__PURE__*/React.createElement(TextField,{id:\"categoryTitle\",label:\"Category Name\",type:\"text\",variant:\"outlined\",size:\"small\"})),/*#__PURE__*/React.createElement(\"div\",{className:classes.form},/*#__PURE__*/React.createElement(TextField,{id:\"questionlength\",label:\"Max length\",type:\"number\",variant:\"outlined\",size:\"small\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"img-holder\"},/*#__PURE__*/React.createElement(\"img\",{id:\"output\",className:\"img\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"image/*\",id:\"input\",name:\"input\",onChange:function onChange(e){return loadFile(e);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"label\"},/*#__PURE__*/React.createElement(\"label\",{className:\"image-upload\",htmlFor:\"input\"},/*#__PURE__*/React.createElement(\"span\",null,\"  Choose your Photo\"))),/*#__PURE__*/React.createElement(\"div\",{className:classes.createwrap},/*#__PURE__*/React.createElement(Button,{className:classes.btn,size:\"normal\",variant:\"contained\",onClick:createCategory},\"Create\"))));}export default CategoryForm;","map":{"version":3,"sources":["/home/tanu/Workspace/quiz12/src/admin/category/CategoryForm.js"],"names":["React","useState","TextField","makeStyles","Button","Typography","Grid","Divider","Paper","services","useStyles","theme","root","margin","spacing","width","heading","textAlign","fontWeight","color","btn","background","form","createwrap","CategoryForm","classes","loggedIn","setLoggedIn","data","JSON","parse","localStorage","getItem","jwt","userId","loadFile","e","output","document","getElementById","src","URL","createObjectURL","target","files","onload","revokeObjectURL","createCategory","FormData","categoryTitle","value","questionlength","userfile","length","alert","append","options","method","headers","result","code","window","location","reload"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Typography, Grid, Divider, Paper } from '@material-ui/core';\nimport './CategoryForm.css'\nimport services from '../../services/services';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& .MuiTextField-root': {\n      margin: theme.spacing(1),\n      width: '25ch',\n    },\n  },\n  heading: {\n    textAlign: \"center\",\n    fontWeight: \"500\",\n    color: \"#133b5c\"\n  },\n  btn: {\n    margin: \"10px\",\n    background: \"#133b5c\",\n    color: \"#fff\",\n    '&: hover': {\n      color: \"#133b5c !important\",\n    }\n\n  },\n  form: {\n    textAlign: \"center\"\n  },\n  createwrap:{\n    textAlign:\"center\"\n  }\n}));\n\n\nfunction CategoryForm() {\n  const classes = useStyles();\n  const[loggedIn,setLoggedIn]=useState(false)\n  const data = JSON.parse(localStorage.getItem('friend'));\n  const jwt = data['jwt'];\n  var userId = data['userId'];\n\n\n  var loadFile = function (e) {\n    var output = document.getElementById('output');\n    output.src = URL.createObjectURL(e.target.files[0]);\n    output.onload = function () {\n      URL.revokeObjectURL(output.src) // free memory\n    }\n  };\n\n  const createCategory = async () => {\n    const data = new FormData();\n    var categoryTitle = document.getElementById(\"categoryTitle\").value;\n    var questionlength = document.getElementById(\"questionlength\").value;\n    var userfile = document.getElementById('input').files?.[0];\n    if ((categoryTitle == \"\") || (categoryTitle == null) || (categoryTitle.length <= 2)) {\n      alert(\"please enter required Category\");\n    } \n    data.append(\"categoryTitle\", categoryTitle);\n    data.append(\"userId\", userId);\n    data.append(\"limit\", questionlength);\n    data.append(\"userfile\", userfile);\n    const options = {\n      method: 'POST',\n      headers: {\n        \"Apiuserid\": \"49507884\",\n        \"Scope\": \"In.QuizApp.INSERT\",\n        'Content-Type': 'multipart/form-data',\n        \"Authorization\": `quizApp-oauthtoken ${jwt}`,\n      }\n    }\n    const result = await services.createCategory(data, options)\n    if(result.data.code==200)\n    {\n     setLoggedIn(true)\n    }\n  }\n  \n \nif(loggedIn)\n{\nwindow.location.reload();\n\n}\n\n\n  return (\n    <>\n      <Typography variant=\"h5\" className={classes.heading}>Create Category</Typography>\n      <form className={classes.root}>\n\n        <div className={classes.form}>\n          <TextField\n            id=\"categoryTitle\"\n            label=\"Category Name\"\n            type=\"text\"\n            variant=\"outlined\"\n            size=\"small\"\n          />\n        </div>\n        <div className={classes.form}>\n          <TextField\n            id=\"questionlength\"\n            label=\"Max length\"\n            type=\"number\"\n            variant=\"outlined\"\n            size=\"small\"\n          />\n        </div>\n        <div className=\"img-holder\">\n          <img id=\"output\" className=\"img\" />\n        </div>\n        <input type=\"file\" accept=\"image/*\" id=\"input\" name=\"input\" onChange={(e) => loadFile(e)} />\n        <div className=\"label\">\n          <label className=\"image-upload\" htmlFor=\"input\">\n            <span>  Choose your Photo</span>\n          </label>\n        </div>\n        <div className={classes.createwrap}>\n        <Button\n          className={classes.btn}\n          size=\"normal\"\n          variant=\"contained\"\n          onClick={createCategory}\n          >\n          Create\n            </Button>\n        </div>\n      </form>\n\n\n    </>\n\n\n  )\n}\n\nexport default CategoryForm\n"]},"metadata":{},"sourceType":"module"}